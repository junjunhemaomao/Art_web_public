import{_ as i,o as a,c as t,ag as n}from"./chunks/framework.Bx1bucHt.js";const g=JSON.parse('{"title":"Game Design Document (GDC): NPC 模块","description":"","frontmatter":{},"headers":[],"relativePath":"项目实践/JRPG/NPC模块/GDC_NPC_Module.md","filePath":"项目实践/JRPG/NPC模块/GDC_NPC_Module.md"}'),h={name:"项目实践/JRPG/NPC模块/GDC_NPC_Module.md"};function l(p,s,k,e,r,d){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h1 id="game-design-document-gdc-npc-模块" tabindex="-1"><strong>Game Design Document (GDC): NPC 模块</strong> <a class="header-anchor" href="#game-design-document-gdc-npc-模块" aria-label="Permalink to &quot;**Game Design Document (GDC): NPC 模块**&quot;">​</a></h1><hr><h2 id="_1-项目概述" tabindex="-1"><strong>1. 项目概述</strong> <a class="header-anchor" href="#_1-项目概述" aria-label="Permalink to &quot;**1. 项目概述**&quot;">​</a></h2><h3 id="_1-1-模块名称" tabindex="-1"><strong>1.1 模块名称</strong> <a class="header-anchor" href="#_1-1-模块名称" aria-label="Permalink to &quot;**1.1 模块名称**&quot;">​</a></h3><p>NPC模块</p><h3 id="_1-2-模块简介" tabindex="-1"><strong>1.2 模块简介</strong> <a class="header-anchor" href="#_1-2-模块简介" aria-label="Permalink to &quot;**1.2 模块简介**&quot;">​</a></h3><p>NPC模块是游戏中非玩家角色（NPC）的功能实现，包括行为逻辑、对话系统、任务集成、动画表现和事件支持。该模块旨在提供多样化的角色表现和交互体验，增强游戏世界的沉浸感。</p><h3 id="_1-3-模块目标" tabindex="-1"><strong>1.3 模块目标</strong> <a class="header-anchor" href="#_1-3-模块目标" aria-label="Permalink to &quot;**1.3 模块目标**&quot;">​</a></h3><ul><li>提供一个可扩展的 NPC 框架，支持不同类型的 NPC 功能需求。</li><li>提供灵活的工具支持，便于策划和美术团队定义 NPC 数据。</li></ul><hr><h2 id="_2-功能设计" tabindex="-1"><strong>2. 功能设计</strong> <a class="header-anchor" href="#_2-功能设计" aria-label="Permalink to &quot;**2. 功能设计**&quot;">​</a></h2><h3 id="_2-1-npc分类" tabindex="-1"><strong>2.1 NPC分类</strong> <a class="header-anchor" href="#_2-1-npc分类" aria-label="Permalink to &quot;**2.1 NPC分类**&quot;">​</a></h3><table tabindex="0"><thead><tr><th><strong>类型</strong></th><th><strong>描述</strong></th><th><strong>示例</strong></th></tr></thead><tbody><tr><td>普通村民</td><td>不参与任务或剧情，仅提供背景对话。</td><td>村庄中的老奶奶。</td></tr><tr><td>商人</td><td>出售和购买物品，支持交易界面。</td><td>武器店老板。</td></tr><tr><td>任务角色</td><td>提供任务或引导玩家完成任务。</td><td>守城门的士兵。</td></tr><tr><td>剧情角色</td><td>关键剧情角色，有丰富对话和特定事件。</td><td>王国的公主。</td></tr></tbody></table><hr><h3 id="_2-2-功能模块" tabindex="-1"><strong>2.2 功能模块</strong> <a class="header-anchor" href="#_2-2-功能模块" aria-label="Permalink to &quot;**2.2 功能模块**&quot;">​</a></h3><h4 id="_2-2-1-基础信息与属性" tabindex="-1"><strong>2.2.1 基础信息与属性</strong> <a class="header-anchor" href="#_2-2-1-基础信息与属性" aria-label="Permalink to &quot;**2.2.1 基础信息与属性**&quot;">​</a></h4><p>NPC的基础信息包括身份标识、类型、名字和活动区域。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;村民阿明&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;普通村民&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">region</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;初始村庄&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">dialogue_set</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;dialogue_villager1&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_2-2-2-行为逻辑" tabindex="-1"><strong>2.2.2 行为逻辑</strong> <a class="header-anchor" href="#_2-2-2-行为逻辑" aria-label="Permalink to &quot;**2.2.2 行为逻辑**&quot;">​</a></h4><p>定义NPC的行为方式，例如静止、巡逻或事件触发。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">behavior_type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;固定&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">path</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> [],</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">trigger_on_interact</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#FAB387;"> true</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_2-2-3-对话系统" tabindex="-1"><strong>2.2.3 对话系统</strong> <a class="header-anchor" href="#_2-2-3-对话系统" aria-label="Permalink to &quot;**2.2.3 对话系统**&quot;">​</a></h4><p>动态对话的内容管理，支持多条件匹配。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">base_dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;你好，勇者！今天是个好天气。&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">conditions</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> [</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;任务完成(quest_001)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;感谢你帮助村庄！&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;时间(夜晚)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;天黑了，该休息了。&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  ]</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_2-2-4-任务系统集成" tabindex="-1"><strong>2.2.4 任务系统集成</strong> <a class="header-anchor" href="#_2-2-4-任务系统集成" aria-label="Permalink to &quot;**2.2.4 任务系统集成**&quot;">​</a></h4><p>NPC可与任务系统关联，触发任务或响应任务完成状态。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_003&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">quest_id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;quest_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">trigger_condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;玩家靠近并交互&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">reward</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">gold</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#FAB387;"> 100</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">item</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;钥匙×1&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_2-2-5-动画与表现" tabindex="-1"><strong>2.2.5 动画与表现</strong> <a class="header-anchor" href="#_2-2-5-动画与表现" aria-label="Permalink to &quot;**2.2.5 动画与表现**&quot;">​</a></h4><p>NPC的动画状态定义，包括默认状态、行为切换和事件动画。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">default_animation</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;Idle&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">event_animations</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">greet</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;Wave&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">cheer</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;Cheer&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_2-2-6-事件与脚本支持" tabindex="-1"><strong>2.2.6 事件与脚本支持</strong> <a class="header-anchor" href="#_2-2-6-事件与脚本支持" aria-label="Permalink to &quot;**2.2.6 事件与脚本支持**&quot;">​</a></h4><p>支持复杂的事件逻辑与条件执行。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_002&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">event_type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;物品给予&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">event_condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;玩家拥有钥匙(key_001)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">event_action</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;开启门(gate_01)&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><hr><h2 id="_3-技术设计" tabindex="-1"><strong>3. 技术设计</strong> <a class="header-anchor" href="#_3-技术设计" aria-label="Permalink to &quot;**3. 技术设计**&quot;">​</a></h2><h3 id="_3-1-数据管理" tabindex="-1"><strong>3.1 数据管理</strong> <a class="header-anchor" href="#_3-1-数据管理" aria-label="Permalink to &quot;**3.1 数据管理**&quot;">​</a></h3><p>NPC模块的所有数据使用 JSON 格式存储，通过工具导入到游戏引擎中。以下是核心数据结构：</p><h4 id="_3-1-1-npc基础数据" tabindex="-1"><strong>3.1.1 NPC基础数据</strong> <a class="header-anchor" href="#_3-1-1-npc基础数据" aria-label="Permalink to &quot;**3.1.1 NPC基础数据**&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">name</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;村民阿明&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;普通村民&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">region</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;初始村庄&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_3-1-2-npc行为数据" tabindex="-1"><strong>3.1.2 NPC行为数据</strong> <a class="header-anchor" href="#_3-1-2-npc行为数据" aria-label="Permalink to &quot;**3.1.2 NPC行为数据**&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">behavior_type</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;巡逻&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">path</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> [</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">&quot;(10, 10)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;(15, 15)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;(20, 10)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">],</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">trigger_on_interact</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#FAB387;"> true</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h4 id="_3-1-3-npc对话数据" tabindex="-1"><strong>3.1.3 NPC对话数据</strong> <a class="header-anchor" href="#_3-1-3-npc对话数据" aria-label="Permalink to &quot;**3.1.3 NPC对话数据**&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">id</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;npc_001&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">base_dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;你好，勇者！今天是个好天气。&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">conditions</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> [</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;时间(早晨)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;早上好，勇者！今天要去哪儿呢？&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    },</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    {</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">condition</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;任务完成(quest_002)&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">      &quot;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">dialogue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">&quot;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;谢谢你救了我的孩子！&quot;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">    }</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">  ]</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h3 id="_3-2-系统架构" tabindex="-1"><strong>3.2 系统架构</strong> <a class="header-anchor" href="#_3-2-系统架构" aria-label="Permalink to &quot;**3.2 系统架构**&quot;">​</a></h3><p>NPC模块基于以下技术构建：</p><ol><li><strong>状态机</strong>：控制NPC的行为状态。</li><li><strong>事件系统</strong>：管理NPC与任务或玩家的交互逻辑。</li><li><strong>数据驱动</strong>：所有NPC数据从外部加载，支持动态扩展。</li></ol><hr><h2 id="_4-ui-ux设计" tabindex="-1"><strong>4. UI/UX设计</strong> <a class="header-anchor" href="#_4-ui-ux设计" aria-label="Permalink to &quot;**4. UI/UX设计**&quot;">​</a></h2><h3 id="_4-1-交互提示" tabindex="-1"><strong>4.1 交互提示</strong> <a class="header-anchor" href="#_4-1-交互提示" aria-label="Permalink to &quot;**4.1 交互提示**&quot;">​</a></h3><ul><li>玩家靠近NPC时，显示交互提示（例如“按E与阿明交谈”）。</li></ul><h3 id="_4-2-对话框设计" tabindex="-1"><strong>4.2 对话框设计</strong> <a class="header-anchor" href="#_4-2-对话框设计" aria-label="Permalink to &quot;**4.2 对话框设计**&quot;">​</a></h3><ul><li>对话框支持以下功能： <ul><li>显示NPC头像和名字。</li><li>动态文字滚动显示。</li><li>支持多分支选择。</li></ul></li></ul><p>示例对话框：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>阿明: 你好，勇者！今天是个好天气。</span></span>
<span class="line"><span>[1] 今天很适合探险。</span></span>
<span class="line"><span>[2] 我只是路过。</span></span></code></pre></div><hr><h2 id="_5-测试计划" tabindex="-1"><strong>5. 测试计划</strong> <a class="header-anchor" href="#_5-测试计划" aria-label="Permalink to &quot;**5. 测试计划**&quot;">​</a></h2><h3 id="_5-1-功能测试" tabindex="-1"><strong>5.1 功能测试</strong> <a class="header-anchor" href="#_5-1-功能测试" aria-label="Permalink to &quot;**5.1 功能测试**&quot;">​</a></h3><ul><li>验证NPC的基础行为（如站立、巡逻）是否正常。</li><li>测试对话逻辑是否符合条件触发。</li><li>检查任务触发和完成的集成效果。</li></ul><h3 id="_5-2-压力测试" tabindex="-1"><strong>5.2 压力测试</strong> <a class="header-anchor" href="#_5-2-压力测试" aria-label="Permalink to &quot;**5.2 压力测试**&quot;">​</a></h3><ul><li>测试同屏50个NPC是否保持帧率稳定。</li></ul><h3 id="_5-3-异常测试" tabindex="-1"><strong>5.3 异常测试</strong> <a class="header-anchor" href="#_5-3-异常测试" aria-label="Permalink to &quot;**5.3 异常测试**&quot;">​</a></h3><ul><li>确保NPC不会因条件未触发而卡住行为。</li><li>验证与任务、动画的交互是否正常。</li></ul><hr><h2 id="_6-数据模板" tabindex="-1"><strong>6. 数据模板</strong> <a class="header-anchor" href="#_6-数据模板" aria-label="Permalink to &quot;**6. 数据模板**&quot;">​</a></h2><h3 id="_6-1-excel模板字段" tabindex="-1"><strong>6.1 Excel模板字段</strong> <a class="header-anchor" href="#_6-1-excel模板字段" aria-label="Permalink to &quot;**6.1 Excel模板字段**&quot;">​</a></h3><table tabindex="0"><thead><tr><th><strong>字段名</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>ID</td><td>NPC唯一标识符</td></tr><tr><td>Name</td><td>NPC名字</td></tr><tr><td>Type</td><td>NPC类型</td></tr><tr><td>Region</td><td>所在区域</td></tr><tr><td>Behavior Type</td><td>行为类型</td></tr><tr><td>Path</td><td>巡逻路径</td></tr><tr><td>Dialogue Set</td><td>对话集合引用名</td></tr><tr><td>Trigger On Interact</td><td>是否触发交互事件</td></tr></tbody></table><hr><p>通过以上 Markdown 格式编写的完整 GDC 文档，开发团队可以快速获取 NPC 模块的功能定义和数据结构，方便开发和测试工作。</p>`,68)])])}const c=i(h,[["render",l]]);export{g as __pageData,c as default};
