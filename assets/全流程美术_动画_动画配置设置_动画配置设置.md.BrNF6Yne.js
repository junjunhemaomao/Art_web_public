import{_ as a,o as e,c as s,ag as d}from"./chunks/framework.Bx1bucHt.js";const n="/Art_web_public/assets/image.DGV21gRA.png",o="/Art_web_public/assets/image-1.Doo8kNeC.png",r="/Art_web_public/assets/image-2.B_M07krm.png",c="/Art_web_public/assets/image-3.Dn06lR7O.png",p="/Art_web_public/assets/ackSliceCurves_demo.CXy3OrMw.gif",l="/Art_web_public/assets/image-4.Dbrek_BL.png",i="/Art_web_public/assets/image-5.Dcqc_sxW.png",u="/Art_web_public/assets/image-8.Crv8o9g9.png",g="/Art_web_public/assets/image-6.CoAiqSA4.png",m="/Art_web_public/assets/image-7.DrOsUJop.png",C=JSON.parse('{"title":"动画的前期准备——Maya设置配置","description":"","frontmatter":{},"headers":[],"relativePath":"全流程美术/动画/动画配置设置/动画配置设置.md","filePath":"全流程美术/动画/动画配置设置/动画配置设置.md"}'),h={name:"全流程美术/动画/动画配置设置/动画配置设置.md"};function k(b,t,q,_,y,v){return e(),s("div",null,[...t[0]||(t[0]=[d('<h1 id="动画的前期准备——maya设置配置" tabindex="-1">动画的前期准备——Maya设置配置 <a class="header-anchor" href="#动画的前期准备——maya设置配置" aria-label="Permalink to &quot;动画的前期准备——Maya设置配置&quot;">​</a></h1><h3 id="快捷键设置" tabindex="-1">快捷键设置 <a class="header-anchor" href="#快捷键设置" aria-label="Permalink to &quot;快捷键设置&quot;">​</a></h3><p>可以单独创建一个animation的key set集合，不和Maya默认的快捷键相冲突，做动画的时候临时切换过来<br> 前后关键帧帧快捷键:<code>&lt;</code>,<code>&gt;</code><br> 前后帧快捷键:<code>Alt+&lt;</code>,<code>Alt+&gt;</code><br> Maya默认如此，不建议修改<br><img src="'+n+'" alt="alt text"><br> 曲线编辑器和大纲(非必要，比较低频)<br><img src="'+o+'" alt="alt text"><br><img src="'+r+'" alt="alt text"><br> 拍屏快捷键<br><img src="'+c+'" alt="alt text"></p><hr><h2 id="自定义工具快捷键" tabindex="-1">自定义工具快捷键 <a class="header-anchor" href="#自定义工具快捷键" aria-label="Permalink to &quot;自定义工具快捷键&quot;">​</a></h2><h3 id="ackslicecurves-添加帧脚本说明" tabindex="-1"><code>ackSliceCurves</code> 添加帧脚本说明 <a class="header-anchor" href="#ackslicecurves-添加帧脚本说明" aria-label="Permalink to &quot;`ackSliceCurves` 添加帧脚本说明&quot;">​</a></h3><p>作者: <a href="https://www.aaronkoressel.com/index.php?nav=tools" target="_blank" rel="noreferrer">Aaron Koressel</a></p><h4 id="功能概述" tabindex="-1">功能概述 <a class="header-anchor" href="#功能概述" aria-label="Permalink to &quot;功能概述&quot;">​</a></h4><p><code>ackSliceCurves</code> 是一个用于在 Maya 的图形编辑器（Graph Editor）中插入关键帧的脚本。其主要作用是在当前时间点插入关键帧，同时保留曲线的切线（tangents）。该脚本可以对选中的曲线或图形编辑器中的所有曲线操作。它与 Maya 自带的插入关键帧工具类似，但更具针对性和效率，特别适合在当前时间点快速调整动画曲线。<br><img src="'+p+`" alt="alt text"></p><h4 id="主要功能" tabindex="-1">主要功能 <a class="header-anchor" href="#主要功能" aria-label="Permalink to &quot;主要功能&quot;">​</a></h4><ol><li><strong>插入关键帧至选中曲线</strong>：如果在图形编辑器中有选中的曲线，它会在这些曲线的当前时间点插入关键帧。</li><li><strong>插入关键帧至所有曲线</strong>：如果没有选中的曲线，它会对图形编辑器中所有可见曲线插入关键帧。</li><li><strong>性能优化</strong>：相比 Maya 的内置插入关键帧工具，该脚本专注于当前时间点的操作，性能更高。</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>global proc ackSliceCurves() {    </span></span>
<span class="line"><span>	// get graph outliner </span></span>
<span class="line"><span>	string $connection = \`editor -q -mainListConnection graphEditor1GraphEd\`;</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	// get selection from outliner</span></span>
<span class="line"><span>	string $graphObject[] = \`expandSelectionConnectionAsArray $connection\`;</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	int $keyCount = 0;</span></span>
<span class="line"><span>	$keyCount = \`keyframe -an keys -q -kc\`;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	if ($keyCount == 0) {  							//no curves selected: slice all</span></span>
<span class="line"><span>		setKeyframe -insert -time \`currentTime -q\` $graphObject;</span></span>
<span class="line"><span>	} else {								//curves are selected:  slice selected</span></span>
<span class="line"><span>		string $selectedCurves[] = \`keyframe -selected -q -name\`;  		//return curves of selected keys</span></span>
<span class="line"><span>		setKeyframe -insert -time \`currentTime -q\` $selectedCurves;</span></span>
<span class="line"><span>	};</span></span>
<span class="line"><span>};</span></span></code></pre></div><h3 id="ackdeletekey删除帧脚本" tabindex="-1"><code> ackDeleteKey</code>删除帧脚本 <a class="header-anchor" href="#ackdeletekey删除帧脚本" aria-label="Permalink to &quot;\` ackDeleteKey\`删除帧脚本&quot;">​</a></h3><ul><li>如果在图形编辑器中选择了曲线，则删除选定的关键点。</li><li>如果未选择任何曲线，则删除所选对象的当前关键点。与键盘上的删除键功能相同，但可映射到任何其他键。</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>global proc ackDeleteKey() {    </span></span>
<span class="line"><span>	// get graph outliner </span></span>
<span class="line"><span>	string $connection = \`editor -q -mainListConnection graphEditor1GraphEd\`;</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	// get selection from outliner</span></span>
<span class="line"><span>	string $curveSel[] = \`expandSelectionConnectionAsArray $connection\`;</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	int $keyCount = 0;</span></span>
<span class="line"><span>	$keyCount = \`keyframe -an keys -q -kc\`;					//check for selected curves</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	if ($keyCount == 0) {  							//no curves selected: delete current key of objects</span></span>
<span class="line"><span>		timeSliderClearKey;</span></span>
<span class="line"><span>	} else {								//curves are selected:  delete selected keys in graph</span></span>
<span class="line"><span>		cutKey -animation keys -clear;</span></span>
<span class="line"><span>	};</span></span>
<span class="line"><span>};</span></span></code></pre></div><p>显示&amp;隐藏控制器</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>string $activePanel = \`getPanel -wf\`; if (\`modelEditor -q -nurbsCurves $activePanel\` == 1) { modelEditor -e -nurbsCurves 0 $activePanel; } else { modelEditor -e -nurbsCurves 1 $activePanel; }</span></span></code></pre></div><p>快捷键设置的建议方案<br><img src="`+l+`" alt="alt text"><br> X显示快捷键</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>import maya.cmds as cmds</span></span>
<span class="line"><span>panel = cmds.getPanel(withFocus=True)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if cmds.getPanel(typeOf=panel) == &quot;modelPanel&quot;:</span></span>
<span class="line"><span>    xray_state = cmds.modelEditor(panel, query=True, xray=True)</span></span>
<span class="line"><span>    cmds.modelEditor(panel, edit=True, xray=not xray_state)</span></span></code></pre></div><p>视窗渲染显示设置<br><img src="`+i+'" alt="alt text"><br> Animation快捷键组，最后调试好，并同步好了一个版本，图示如下<br><img src="'+u+'" alt="alt text"><img src="'+g+'" alt="alt text"></p><h2 id="作者aaron-koressel的其他动画工具脚本" tabindex="-1">作者<a href="https://www.aaronkoressel.com/index.php?nav=tools" target="_blank" rel="noreferrer">Aaron Koressel</a>的其他动画工具脚本 <a class="header-anchor" href="#作者aaron-koressel的其他动画工具脚本" aria-label="Permalink to &quot;作者[Aaron Koressel](https://www.aaronkoressel.com/index.php?nav=tools)的其他动画工具脚本&quot;">​</a></h2><table tabindex="0"><thead><tr><th>分类</th><th>工具名称</th><th>版本</th><th>核心功能</th><th>语法/参数</th><th>应用场景</th></tr></thead><tbody><tr><td><strong>动画曲线优化</strong></td><td>ackDeleteRedundant</td><td>1.1</td><td>删除与相邻两键值相同的关键帧，减少冗余数据</td><td><code>ackDeleteRedundant;</code></td><td>动画粗调后清理曲线</td></tr><tr><td></td><td>ackSliceCurves</td><td>-</td><td>在当前时间点为选中曲线插入关键帧，保留原有切线形态</td><td>直接运行</td><td>添加中间控制点</td></tr><tr><td><strong>关键帧位置调整</strong></td><td>ackConvergeBuffer</td><td>1.0</td><td>使选中关键帧向缓冲曲线收敛、远离或捕捉</td><td><code>&quot;toward&quot; / &quot;away&quot; / &quot;snap&quot;</code></td><td>匹配参考曲线</td></tr><tr><td></td><td>ackSnapToTime</td><td>1.1</td><td>将选中关键帧移动到当前时间帧，支持左右模式</td><td>默认左模式，通过<code>ackSetup</code>切换</td><td>同步多角色动作</td></tr><tr><td></td><td>ackMoveKeys</td><td>1.1</td><td>通过键盘方向键移动关键帧时间或值，支持向相邻键收敛</td><td><code>&quot;left&quot;/&quot;right&quot;/&quot;up&quot;/&quot;down&quot;/&quot;convergeLeft&quot;/&quot;convergeRight&quot;</code></td><td>精细调整关键帧位置</td></tr><tr><td><strong>键值与姿势操作</strong></td><td>ackSnapEndKeyValues</td><td>1.0</td><td>将曲线首尾关键帧值对齐，确保动画循环衔接</td><td><code>&quot;left&quot;</code>（默认）/<code>&quot;right&quot;</code></td><td>制作循环动画</td></tr><tr><td></td><td>ackNegateKeys</td><td>1.3</td><td>沿X轴翻转选中关键帧姿势，以相邻键或最后选中键为中心</td><td>直接运行，方向通过<code>ackSetup</code>设置</td><td>生成对称或反向动作</td></tr><tr><td></td><td>ackSnapKeyValues</td><td>-</td><td>将所有选中关键帧值对齐到最后一个选中键的值</td><td>直接运行</td><td>批量统一关键帧值</td></tr><tr><td></td><td>ackZeroOutKeys</td><td>-</td><td>将选中关键帧值归零，清除动画数据</td><td>直接运行</td><td>重置动画或清除错误键值</td></tr><tr><td><strong>动画时间与节奏</strong></td><td>ackSpreadSqueezeTiming</td><td>1.0</td><td>插入或删除中间帧，实现时间轴均匀缩放，保证关键帧在整帧位置</td><td><code>&quot;spread&quot; / &quot;squeeze&quot;</code></td><td>调整动画节奏</td></tr><tr><td></td><td>ackTimingFramework</td><td>1.0</td><td>按选中曲线关键帧时间，在其他曲线插入相同时间点关键帧，保留切线</td><td><code>ackTimingFramework;</code></td><td>新控制器匹配现有动画时间</td></tr><tr><td></td><td>ackSwapKeys</td><td>1.0</td><td>交换两组垂直关键帧的时间点，需选中两个时间点且每通道两个键</td><td>直接运行</td><td>调整姿势先后顺序</td></tr><tr><td><strong>动画偏移与缩放</strong></td><td>ackSnapAnimation</td><td>1.1</td><td>偏移选中关键帧值，与相邻关键帧对齐，各曲线独立计算偏移量</td><td>直接运行，邻键方向通过<code>ackSetup</code>设置</td><td>粘贴动画片段时保持衔接</td></tr><tr><td></td><td>ackPushPull</td><td>1.1</td><td>以枢轴点为中心推或拉动画曲线，使选中键靠近或远离枢轴点</td><td><code>&quot;pull&quot; / &quot;push&quot;</code></td><td>调整动画幅度</td></tr><tr><td><strong>全局设置与控制</strong></td><td>ackSetup</td><td>1.0</td><td>为兼容脚本提供全局参数设置，包括枢轴方向、移动比例等</td><td><code>&quot;setup&quot;</code>（打开界面）/<code>&quot;left&quot;/&quot;right&quot;/&quot;last&quot;</code>（切换枢轴）</td><td>统一配置多脚本参数</td></tr><tr><td></td><td>ackNewGraphEditor</td><td>-</td><td>智能打开或创建新的Graph Editor窗口，解决默认只能显示一个窗口的限制</td><td>直接运行</td><td>同时查看多个动画曲线</td></tr><tr><td><strong>视图与摄像机控制</strong></td><td>ackToggleCams</td><td>1.1</td><td>在两个摄像机之间快速切换视口显示，支持自定义摄像机名称</td><td><code>ackToggleCams;</code> / <code>ackToggleCams_setup;</code></td><td>拍摄摄像机与透视图快速切换</td></tr><tr><td></td><td>ackToggleHighlight</td><td>-</td><td>切换选中对象的线框高亮显示，避免高亮干扰视图</td><td>直接运行</td><td>复杂场景中清晰查看模型</td></tr><tr><td><strong>其他辅助工具</strong></td><td>ackGotoTime</td><td>-</td><td>弹出窗口输入帧号，快速跳转至指定时间点</td><td>直接运行，输入帧号回车</td><td>精确跳转至某帧调整动画</td></tr><tr><td></td><td>ackShuttleControl</td><td>1.2</td><td>替代默认穿梭控制，支持逐帧、逐键跳转，不污染撤销历史</td><td><code>&quot;nextFrame&quot;/&quot;prevFrame&quot;/&quot;nextKey&quot;/&quot;prevKey&quot;</code></td><td>逐帧检查或关键帧间导航</td></tr><tr><td></td><td>ackToggleSound</td><td>1.1</td><td>切换时间轴中当前音频的静音状态，首次使用自动识别当前音频</td><td>直接运行</td><td>临时静音音频专注视觉调整</td></tr><tr><td><strong>显示与模式切换</strong></td><td>ackToggleTranslateMode</td><td>1.1</td><td>切换局部平移与世界平移模式</td><td>直接运行</td><td>调整角色在不同坐标系下的移动</td></tr><tr><td></td><td>ackToggleRotateMode</td><td>-</td><td>切换局部旋转与万向节（Gimbal）旋转模式</td><td>直接运行</td><td>避免旋转轴锁定，精确控制旋转</td></tr><tr><td></td><td>ackToggleTangentType</td><td>-</td><td>切换关键帧切线类型（断开自由切线/统一自由切线）</td><td>直接运行</td><td>调整曲线平滑度</td></tr><tr><td></td><td>ackToggleModel</td><td>1.1</td><td>切换NURBS曲面、多边形、细分曲面的可见性</td><td>直接运行</td><td>隐藏模型方便选择控制器</td></tr><tr><td></td><td>ackToggleNURBSCurves</td><td>-</td><td>切换NURBS曲线（如控制器）的可见性</td><td>直接运行</td><td>清理视图避免控制器干扰</td></tr><tr><td></td><td>ackToggleImagePlane</td><td>-</td><td>切换场景中所有图像平面的可见性</td><td>直接运行</td><td>显示/隐藏参考图</td></tr><tr><td></td><td>ackToggleKeyColor</td><td>-</td><td>切换选中关键帧的特殊颜色显示</td><td>直接运行</td><td>突出显示特定关键帧</td></tr></tbody></table><p><img src="'+m+'" alt="alt text"></p>',23)])])}const x=a(h,[["render",k]]);export{C as __pageData,x as default};
