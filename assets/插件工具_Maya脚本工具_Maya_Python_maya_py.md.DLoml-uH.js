import{_ as s,o as p,c as n,aa as e}from"./chunks/framework.D4-DbJe5.js";const y=JSON.parse('{"title":"Maya_Python学习（一）","description":"","frontmatter":{"readingTime":"2 min read"},"headers":[],"relativePath":"插件工具/Maya脚本工具/Maya_Python/maya_py.md","filePath":"插件工具/Maya脚本工具/Maya_Python/maya_py.md"}'),c={name:"插件工具/Maya脚本工具/Maya_Python/maya_py.md"};function t(i,a,l,o,d,r){return p(),n("div",null,[...a[0]||(a[0]=[e(`<h1 id="maya-python学习-一" tabindex="-1">Maya_Python学习（一） <a class="header-anchor" href="#maya-python学习-一" aria-label="Permalink to &quot;Maya_Python学习（一）&quot;">​</a></h1><p>Maya.cmds本质上是对MEL（Maya Embedded Language）命令的Python封装。仍然需要按照命令行的思路来编写代码，有时候可能需要组合多个命令来实现复杂功能。</p><p>OpenMaya是由Autodesk官方开发的一个更为面向对象的Python API。OpenMaya允许开发人员直接访问和操作Maya的内部数据结构，从而更深入地控制和定制Maya的行为。它更贴近Python的编程风格，提供了更高级的抽象和更简洁的代码。</p><p>PyMEL（Python Maya Embedded Language）是由社区开发的工具，旨在为Maya提供更高级、更Pythonic的接口。是对OpenMaya进一步的包装，更面向实际使用。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>import maya.cmds as cmds</span></span>
<span class="line"><span>sphereNodes = cmds.polySphere()</span></span>
<span class="line"><span>print(sphereNodes)</span></span></code></pre></div><p>可以将形状节点保存在另一个变量中</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>sphereShape = sphereNodes[1]</span></span>
<span class="line"><span>print(sphereShape)</span></span></code></pre></div><p>获取节点的某个属性值,并利用</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>rad = cmds.polySphere(sphereShape,q=True,radius=True)</span></span>
<span class="line"><span>print(&#39;radius is:&#39;+ str(rad))</span></span>
<span class="line"><span>cmds.polyCube(width=rad*2,height=rad*2,depth=rad*2)</span></span></code></pre></div><p>并不是所有的节点都有此类命令，有时候并不是所有属性都有标志（命名）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>print(cmds.help(&#39;spaceLocator&#39;))</span></span></code></pre></div><p>创建定位器，并把第一个节点保存在loc中</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>loc = cmds.spaceLocator()[0]</span></span>
<span class="line"><span>print (loc)</span></span></code></pre></div><p>getAttr()可以获取任意节点的任意属性值。只需要将节点名称，句点和属性名称作为字符串传递即可</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>sx = cmds.getAttr(loc + &#39;.scaleX&#39;)</span></span>
<span class="line"><span>print(sx)</span></span>
<span class="line"><span>sx*= 2</span></span>
<span class="line"><span>cmds.setAttr(loc+&#39;.scaleX&#39;,sx)</span></span></code></pre></div><p>有的属性不是一个单一值，可能是复合属性</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>print (cmds.xform(loc,q=True,translation=True))</span></span>
<span class="line"><span>cmds.xform(loc,translation=[0,10,0])</span></span></code></pre></div><p>maya中转换数据的机制是连接属性。属性连接的基本要求是类型相同。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span>sphere = cmds.polySphere()[0]</span></span>
<span class="line"><span>cube = cmds.polyCube()[0]</span></span>
<span class="line"><span>cmds.connectAttr(cube+&#39;.ry&#39;,sphere+&#39;.ty&#39;)</span></span>
<span class="line"><span>cmds.select(cube)</span></span></code></pre></div>`,19)])])}const m=s(c,[["render",t]]);export{y as __pageData,m as default};
